{% extends "base.html" %}

{% block title %}
Painel de Controle
{% endblock %}

{% block content %}
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Nome de usuário</th>
        <th scope="col">Nome</th>
        <th scope="col">Sobrenome</th>
        <th scope="col">E-mail</th>
        <th scope="col">Telefone</th>
        <th scope="col">CPF</th>
        <th scope="col">Nacionalidade</th>
        <th scope="col">CEP</th>
        <th scope="col">Estado</th>
        <th scope="col">Cidade</th>
        <th scope="col">Logradouro</th>
        <th scope="col">Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
        <tr>
          <th scope="row">{{ user.id }}</th>
          <td>{{ user.username }}</td>
          <td>{{ user.nome }}</td>
          <td>{{ user.sobrenome }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.telefone }}</td>
          <td class="cpf">{{ user.cpf }}</td>
          <td>{{ user.nacionalidade }}</td>
          <td class="cep">{{ user.cep }}</td>
          <td>{{ user.estado }}</td>
          <td>{{ user.cidade }}</td>
          <td>{{ user.logradouro }}</td>
          <td>
            <button type="submit" value="consultar" style="width: 45px;" class="btn btn-primary">
            <a style="color: inherit;" href="{{ url_for('consultar', id=user.id) }}">
            <span class="btn-label" style="display: inline-block;"><span class="far fa-eye"></span></button>
            <button type="submit" value="editar" style="width: 45px;" class="btn btn-success">
            <a style="color: inherit;" href="{{ url_for('editar', id=user.id) }}">
            <span class="btn-label" style="display: inline-block;"><span class="far fa-edit"></span></button>
            {% if user.id == current_user.id %}
              <button type="button" style="width: 45px;" class="btn btn-danger" title="Você não pode se deletar" disabled>
              <span class="btn-label" style="display: inline-block;"><span class="far fa-trash"></span></button>
            {% else %}
              <button type="submit" value="deletar" name="id" style="width: 45px;" class="btn btn-danger">
              <a style="color: inherit;" href="{{ url_for('deletar', id=user.id) }}">
              <span class="btn-label" method="DELETE" style="display: inline-block;"><span class="far fa-trash"></span></button>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}